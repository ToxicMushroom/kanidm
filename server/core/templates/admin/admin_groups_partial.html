(% extends "admin/admin_partial_base.html" %)

(% block groups_item_extra_classes %)active(% endblock %)

(% block selected_admin_page %)
Groups Management
(% endblock %)

(% block admin_page %)
    <div class="mb-2">
    (% if can_rw %)
        <button hx-target="#main" hx-get="/ui/admin/group/create" type="button" class="btn btn-primary">Create Group</button>
    (% else %)
        <a hx-boost="false" href="/ui/admin/groups/unlock">
            <button type="button" class="btn btn-secondary">Unlock Edit ðŸ”’</button>
        </a>
    (% endif %)
    </div>
    <ul class="list-group">
    (% for group in groups %)
        <li class="list-group-item d-flex flex-row justify-content-between">
            <div class="d-flex align-items-center">
                <a href="/ui/admin/group/(( group.uuid ))/view" hx-target="#main">(( group.name ))</a> <span class="text-secondary d-none d-lg-inline-block mx-4">(( group.uuid ))</span>
            </div>
            <div class="buttons float-end">
                (% if can_rw %)
                    <button hx-target="#main" hx-get="/ui/admin/group/(( group.uuid ))/edit" type="button" class="btn btn-outline-secondary">Edit</button>
                    <button hx-target="#main" hx-post="/ui/admin/group/(( group.uuid ))/delete" hx-confirm="Are you sure you want to delete group (( group.name ))?" type="button" class="btn btn-danger">Delete</button>
                (% endif %)
            </div>
        </li>
    (% endfor %)
    </ul>

(% endblock %)

