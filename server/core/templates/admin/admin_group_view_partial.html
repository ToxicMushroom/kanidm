(% extends "admin/admin_partial_base.html" %)

(% block selected_admin_page %)
Groups Management
(% endblock %)

(% block admin_page %)
<h3>Viewing group (( group.name ))</h3>
<div class="mb-2 row">
    <label for="groupUUID" class="col-12 col-md-3 col-lg-2 col-form-label">UUID</label>
    <div class="col-12 col-md-6 col-lg-4">
        <input readonly id="groupUUID" value="(( group.uuid ))">
    </div>
</div>

<div class="mb-2 row">
    <label for="groupSPN" class="col-12 col-md-3 col-lg-2 col-form-label">spn</label>
    <div class="col-12 col-md-6 col-lg-4">
        <input readonly id="groupSPN" value="(( group.spn ))">
    </div>
</div>

<div class="mb-2 row">
    <label for="groupEntryManager" class="col-12 col-md-3 col-lg-2 col-form-label">entry manager</label>
    <div class="col-12 col-md-6 col-lg-4">
        <input readonly id="groupEntryManager" value="(% if let Some(entry_manager) = group.entry_manager %)(( entry_manager ))(% else %)none(% endif %)">
    </div>
</div>

<label>Emails</label>
(% if group.mails.size == 0 %)
<p>none</p>
(% else %)
<ol class="list-group list-group-flush">
    (% for mail in group.mails %)
    <li class="list-group-item">(( mail ))</li>
    (% endfor %)
</ol>
(% endif %)

<label>Account Policy (ACP)</label>
(% if group.acp.enabled %)

(% else %)
Currently disabled.
<button hx-post="/ui/api/group/(( group.uuid ))/enable_acp" hx-confirm="Currently no known way to disable again, ok to continue.">Enable</button>
(% endif %)


<label>Members</label>
(% if group.members.size == 0 %)
    <p>none</p>
(% else %)
    <ul class="list-group list-group-flush">
        (% for member in group.members %)
            <li class="list-group-item">(( member.spn ))</li>
        (% endfor %)
    </ul>
(% endif %)

(% endblock %)